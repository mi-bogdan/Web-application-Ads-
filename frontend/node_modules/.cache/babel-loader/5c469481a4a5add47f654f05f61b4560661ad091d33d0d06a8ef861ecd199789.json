{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n// import axios from 'axios';\n// import moment from 'moment';\n\n// const Detail = () => {\n//     const { id } = useParams();\n//     const [news, setNews] = useState(null);\n//     const [comment, setComment] = useState('');\n//     const [success, setSuccess] = useState(false);\n//     const token = localStorage.getItem('token'); // Получение токена из localStorage или другого места\n\n//     useEffect(() => {\n//         axios.get(`http://127.0.0.1:8000/api/v1/ads/${id}/`)\n//             .then(response => {\n//                 const data = response.data;\n//                 setNews(data);\n//             })\n//             .catch(error => {\n//                 console.error(error);\n//             });\n//     }, [id]);\n\n//     const handleCommentChange = (event) => {\n//         setComment(event.target.value);\n//     };\n\n//     const handleSubmit = (event) => {\n//         event.preventDefault();\n\n//         axios.post(`http://127.0.0.1:8000/api/v1/comments/`, { comment }, {\n//             headers: {\n//                 Authorization: `Token ${token}` // Заголовок токена авторизации\n//             }\n//         })\n//             .then(response => {\n//                 setComment('');\n//                 setSuccess(true);\n//             })\n//             .catch(error => {\n//                 console.error(error);\n//             });\n//     };\n\n//     if (news === null) {\n//         return <h2>Loading...</h2>;\n//     }\n\n//     const formattedDate = moment(news.created_at).format(\"D MMMM YYYY\");\n\n//     return (\n//         <div>\n//             <div className=\"container-detail\">\n//                 <h1>{news.title}</h1>\n//                 <img className='img-detail' src={`http://localhost:8000${news.img}`} alt=\"Ad Image\" />\n//                 <div className='div-detail'>\n//                     <p className='p-detail'>Просмотров: {news.count_views}</p>\n//                     <p className='p-detail'>Город: {news.city}</p>\n//                 </div>\n//                 <p>{news.description}</p>\n//                 <p className=\"price\">Цена: {news.price} рублей</p>\n//                 <p className=\"telephone\">Телефон: {news.telephone}</p>\n//                 <p className=\"date\">Дата публикации: {formattedDate}</p>\n\n//                 <form onSubmit={handleSubmit} className=\"comment-form\">\n//                     <textarea\n//                         value={comment}\n//                         onChange={handleCommentChange}\n//                         placeholder=\"Оставьте комментарий\"\n//                         required\n//                     ></textarea>\n//                     <button type=\"submit\">Отправить комментарий</button>\n//                 </form>\n\n//                 {success && <p className=\"success-msg\">Комментарий успешно отправлен!</p>}\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default Detail;\n\n// import React, { useEffect, useState } from 'react';\n// import { useParams } from 'react-router-dom';\n// import axios from 'axios';\n// import moment from 'moment';\n\n// const Detail = () => {\n//     const { id } = useParams();\n//     const [news, setNews] = useState(null);\n\n//     useEffect(() => {\n//         axios.get(`http://127.0.0.1:8000/api/v1/ads/${id}/`)\n//             .then(response => {\n//                 const data = response.data;\n//                 setNews(data);\n//             })\n//             .catch(error => {\n//                 console.error(error);\n//             });\n//     }, [id]);\n\n//     if (news === null) {\n//         return <h2>Loading...</h2>;\n//     }\n//     const formattedDate = moment(news.create_at).format(\"D MMMM YYYY\");\n\n//     return (\n//         <div>\n//             <div className=\"container-detail\">\n//                 <h1>{news.title}</h1>\n//                 <img className='img-detail' src={`http://localhost:8000${news.img}`} alt=\"Ad Image\"></img>\n//                 <div className='div-detail'>\n//                     <p className='p-detail'>Просмотров: {news.count_views}</p>\n//                     <p className='p-detail'>Город: {news.city}</p>\n//                 </div>\n//                 <p>{news.descriptions}</p>\n//                 <p className=\"price\">Цена: {news.price} рублей</p>\n//                 <p className=\"telephone\">Телефон: {news.telephone}</p>\n//                 <p className=\"date\">Дата публикации: {formattedDate}</p>\n//             </div>\n\n//         </div>\n//     );\n// };\n\n// export default Detail;","map":{"version":3,"names":[],"sources":["C:/my_papka/Python/DRF/Web-application-Ads-/frontend/src/Detail.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n// import axios from 'axios';\r\n// import moment from 'moment';\r\n\r\n// const Detail = () => {\r\n//     const { id } = useParams();\r\n//     const [news, setNews] = useState(null);\r\n//     const [comment, setComment] = useState('');\r\n//     const [success, setSuccess] = useState(false);\r\n//     const token = localStorage.getItem('token'); // Получение токена из localStorage или другого места\r\n\r\n//     useEffect(() => {\r\n//         axios.get(`http://127.0.0.1:8000/api/v1/ads/${id}/`)\r\n//             .then(response => {\r\n//                 const data = response.data;\r\n//                 setNews(data);\r\n//             })\r\n//             .catch(error => {\r\n//                 console.error(error);\r\n//             });\r\n//     }, [id]);\r\n\r\n//     const handleCommentChange = (event) => {\r\n//         setComment(event.target.value);\r\n//     };\r\n\r\n//     const handleSubmit = (event) => {\r\n//         event.preventDefault();\r\n\r\n//         axios.post(`http://127.0.0.1:8000/api/v1/comments/`, { comment }, {\r\n//             headers: {\r\n//                 Authorization: `Token ${token}` // Заголовок токена авторизации\r\n//             }\r\n//         })\r\n//             .then(response => {\r\n//                 setComment('');\r\n//                 setSuccess(true);\r\n//             })\r\n//             .catch(error => {\r\n//                 console.error(error);\r\n//             });\r\n//     };\r\n\r\n//     if (news === null) {\r\n//         return <h2>Loading...</h2>;\r\n//     }\r\n\r\n//     const formattedDate = moment(news.created_at).format(\"D MMMM YYYY\");\r\n\r\n//     return (\r\n//         <div>\r\n//             <div className=\"container-detail\">\r\n//                 <h1>{news.title}</h1>\r\n//                 <img className='img-detail' src={`http://localhost:8000${news.img}`} alt=\"Ad Image\" />\r\n//                 <div className='div-detail'>\r\n//                     <p className='p-detail'>Просмотров: {news.count_views}</p>\r\n//                     <p className='p-detail'>Город: {news.city}</p>\r\n//                 </div>\r\n//                 <p>{news.description}</p>\r\n//                 <p className=\"price\">Цена: {news.price} рублей</p>\r\n//                 <p className=\"telephone\">Телефон: {news.telephone}</p>\r\n//                 <p className=\"date\">Дата публикации: {formattedDate}</p>\r\n\r\n//                 <form onSubmit={handleSubmit} className=\"comment-form\">\r\n//                     <textarea\r\n//                         value={comment}\r\n//                         onChange={handleCommentChange}\r\n//                         placeholder=\"Оставьте комментарий\"\r\n//                         required\r\n//                     ></textarea>\r\n//                     <button type=\"submit\">Отправить комментарий</button>\r\n//                 </form>\r\n\r\n//                 {success && <p className=\"success-msg\">Комментарий успешно отправлен!</p>}\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default Detail;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import React, { useEffect, useState } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n// import axios from 'axios';\r\n// import moment from 'moment';\r\n\r\n// const Detail = () => {\r\n//     const { id } = useParams();\r\n//     const [news, setNews] = useState(null);\r\n\r\n//     useEffect(() => {\r\n//         axios.get(`http://127.0.0.1:8000/api/v1/ads/${id}/`)\r\n//             .then(response => {\r\n//                 const data = response.data;\r\n//                 setNews(data);\r\n//             })\r\n//             .catch(error => {\r\n//                 console.error(error);\r\n//             });\r\n//     }, [id]);\r\n\r\n//     if (news === null) {\r\n//         return <h2>Loading...</h2>;\r\n//     }\r\n//     const formattedDate = moment(news.create_at).format(\"D MMMM YYYY\");\r\n\r\n//     return (\r\n//         <div>\r\n//             <div className=\"container-detail\">\r\n//                 <h1>{news.title}</h1>\r\n//                 <img className='img-detail' src={`http://localhost:8000${news.img}`} alt=\"Ad Image\"></img>\r\n//                 <div className='div-detail'>\r\n//                     <p className='p-detail'>Просмотров: {news.count_views}</p>\r\n//                     <p className='p-detail'>Город: {news.city}</p>\r\n//                 </div>\r\n//                 <p>{news.descriptions}</p>\r\n//                 <p className=\"price\">Цена: {news.price} рублей</p>\r\n//                 <p className=\"telephone\">Телефон: {news.telephone}</p>\r\n//                 <p className=\"date\">Дата публикации: {formattedDate}</p>\r\n//             </div>\r\n\r\n\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default Detail;"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAUA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}